{% set p = figureParams %}

<figure class="figure figure--{{ p.type }}">
  <div class="figure__media">
    {% if not p.src %}
      <!-- figure:error missing src -->
    {% else %}
      {% if p.hasAlt %}
        <img src="{{ p.src }}" alt="{{ p.alt }}" loading="lazy" decoding="async" />
      {% else %}
        <img src="{{ p.src }}" alt="" role="presentation" loading="lazy" decoding="async" />
      {% endif %}
    {% endif %}
  </div>

  {% if p.showCaption and p.caption %}
    <figcaption class="figure__caption">{{ p.caption }}</figcaption>
  {% endif %}
</figure>
