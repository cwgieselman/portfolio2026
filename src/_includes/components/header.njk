{#
  Header â€” deterministic param API

  Expects (via headerParams):
  - level: "h1" | "h2" | "h3"
  - headline: string
  - showEyebrow: boolean
  - eyebrow: string
  - showSubhead: boolean
  - subhead: string

  Chapter Semantics Rule:
  - headerParamsId provides derived ID for the first header in a section.
  - YAML must not define heading IDs.
#}

{% set p = headerParams %}
{% set headingId = headerParamsId %}

<header class="header">
  {% if p.showEyebrow and p.eyebrow %}
    <p class="header__eyebrow">{{ p.eyebrow }}</p>
  {% endif %}

  {% if p.level == "h1" %}
    <h1 class="header__headline"{% if headingId %} id="{{ headingId }}"{% endif %}>{{ p.headline }}</h1>
  {% elseif p.level == "h2" %}
    <h2 class="header__headline"{% if headingId %} id="{{ headingId }}"{% endif %}>{{ p.headline }}</h2>
  {% elseif p.level == "h3" %}
    <h3 class="header__headline"{% if headingId %} id="{{ headingId }}"{% endif %}>{{ p.headline }}</h3>
  {% else %}
    <p class="header__headline"{% if headingId %} id="{{ headingId }}"{% endif %}>{{ p.headline }}</p>
  {% endif %}

  {% if p.showSubhead and p.subhead %}
    <p class="header__subhead">{{ p.subhead }}</p>
  {% endif %}
</header>
